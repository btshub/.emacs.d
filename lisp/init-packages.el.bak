(provide 'init-packages)
(require 'cl)
;; Add Packages
(defvar melpa-include-packages
  '(
    atom-one-dark-theme
    company
    markdown-mode
       ) "Default packages")
(setq package-selected-packages melpa-include-packages)

(defun melpa-installed-packages ()
  (loop for pkg in melpa-include-packages
        when (not (package-installed-p pkg)) do (return nil)
        finally (return t)))

(unless (melpa-installed-packages)
  (message "%s" "Refreshing package database...")
  (package-refresh-contents)
  (dolist (pkg melpa-include-packages)
    (when (not (package-installed-p pkg))
      (package-install pkg))))
;; cl - Common Lisp Extension

(setq auto-mode-alist
      (append
       '(("\\.go\\'" . go-mode))
       auto-mode-alist))

;;(require 'cl)
;; 自动安装插件列表
;;; company
(require 'company)
; 开启全局 Company 补全
(global-company-mode 1)

